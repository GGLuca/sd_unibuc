<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Inferența Bayesiană</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="modelul_beta_binomial_files/libs/clipboard/clipboard.min.js"></script>
<script src="modelul_beta_binomial_files/libs/quarto-html/quarto.js"></script>
<script src="modelul_beta_binomial_files/libs/quarto-html/popper.min.js"></script>
<script src="modelul_beta_binomial_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="modelul_beta_binomial_files/libs/quarto-html/anchor.min.js"></script>
<link href="modelul_beta_binomial_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="modelul_beta_binomial_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="modelul_beta_binomial_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="modelul_beta_binomial_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="modelul_beta_binomial_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
</head>
<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#care-este-ideea" id="toc-care-este-ideea" class="nav-link active" data-scroll-target="#care-este-ideea">Care este ideea?</a></li>
  <li><a href="#problema-mcelreath-2020" id="toc-problema-mcelreath-2020" class="nav-link" data-scroll-target="#problema-mcelreath-2020">Problema (McElreath, 2020)</a></li>
  <li><a href="#teorema-lui-bayes" id="toc-teorema-lui-bayes" class="nav-link" data-scroll-target="#teorema-lui-bayes">Teorema lui Bayes</a></li>
  <li>
<a href="#componentele-unui-model-bayesian" id="toc-componentele-unui-model-bayesian" class="nav-link" data-scroll-target="#componentele-unui-model-bayesian">Componentele unui model Bayesian</a>
  <ul class="collapse">
<li><a href="#likelihood-verosimilitatea" id="toc-likelihood-verosimilitatea" class="nav-link" data-scroll-target="#likelihood-verosimilitatea">Likelihood (Verosimilitatea)</a></li>
  <li>
<a href="#incorporarea-de-informa%C8%9Bii-anterioare-probabilitate-apriori" id="toc-incorporarea-de-informații-anterioare-probabilitate-apriori" class="nav-link" data-scroll-target="#incorporarea-de-informa%C8%9Bii-anterioare-probabilitate-apriori">Incorporarea de informații anterioare (Probabilitate apriori)</a>
  <ul class="collapse">
<li><a href="#codul-generativ-pentru-un-prior-uniform" id="toc-codul-generativ-pentru-un-prior-uniform" class="nav-link" data-scroll-target="#codul-generativ-pentru-un-prior-uniform">Codul generativ pentru un prior uniform</a></li>
  </ul>
</li>
  <li><a href="#distrib%C8%9Bia-posterioar%C4%83-%C3%AEn-sf%C3%A2r%C8%99it" id="toc-distribția-posterioară-în-sfârșit" class="nav-link" data-scroll-target="#distrib%C8%9Bia-posterioar%C4%83-%C3%AEn-sf%C3%A2r%C8%99it">Distribția Posterioară (în sfârșit!)</a></li>
  <li><a href="#reface%C8%9Bi-calculul-cu-o-alt%C4%83-informa%C8%9Bie-anterioar%C4%83." id="toc-refaceți-calculul-cu-o-altă-informație-anterioară." class="nav-link" data-scroll-target="#reface%C8%9Bi-calculul-cu-o-alt%C4%83-informa%C8%9Bie-anterioar%C4%83.">Refaceți calculul cu o altă informație anterioară.</a></li>
  <li><a href="#analiza-grafic%C4%83" id="toc-analiza-grafică" class="nav-link" data-scroll-target="#analiza-grafic%C4%83">Analiza grafică</a></li>
  </ul>
</li>
  <li><a href="#anima%C8%9Bie" id="toc-animație" class="nav-link" data-scroll-target="#anima%C8%9Bie">Animație</a></li>
  <li><a href="#inferen%C8%9Be" id="toc-inferențe" class="nav-link" data-scroll-target="#inferen%C8%9Be">Inferențe</a></li>
  <li><a href="#lucrul-cu-distribu%C8%9Bia-posterioar%C4%83" id="toc-lucrul-cu-distribuția-posterioară" class="nav-link" data-scroll-target="#lucrul-cu-distribu%C8%9Bia-posterioar%C4%83">Lucrul cu distribuția posterioară</a></li>
  </ul></nav>
</div>
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">Inferența Bayesiană</h1>
<p class="subtitle lead">Elementele fundamentale: Modelul Beta-Binomial</p>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header><div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://www.stefanom.io/latex2exp/">latex2exp</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">MetBrewer</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="care-este-ideea" class="level1"><h1>Care este ideea?</h1>
<p>Probabilitatea binomiala este de fapt estimarea prevalenței - sau proporției, unui eveniment binar dintr-o serie de încercări de tip <span class="math inline">\(Bernoulli\)</span>. Altfel spus, se referă la proporția unui succes din multiple încercări ce generează reușite sau eșecuri.</p>
<p>Cel mai des exemplu este de acum celebrul aruncat al monedei (în încercarea de a estima probabilitatea raportului de cap/pajură) dar el poate fi extrem de variat. McElreath folosește în acest scop proporția pământului in raport cu apa de pe Glob, dintr-o serie de date (<span class="math inline">\(P(ământ)/A(pă)\)</span>) rezultate din experimentul descris la pagina 28.</p>
<p>Probabilitatea binomială este elegantă si foarte potrivită pentru a învăța inferența Bayesiană pentru că este ușoară (avem un singur parametru de estimat si pentru că cele două distribuții despre care vom vorbi mai încolo fac parte din aceeași familie, i.e., sunt <span class="math inline">\(conjugate\)</span>).</p>
</section><section id="problema-mcelreath-2020" class="level1"><h1>Problema (McElreath, 2020)</h1>
<div class="columns">
<div class="column" style="width:70%;">
<blockquote class="blockquote">
<p>Să presupunem că aveți un glob care reprezintă Pământul. Această versiune a lumii este suficient de mică pentru a o ține în mână. Sunteți curioși să aflați cât de mult din suprafață este acoperită de apă. Adoptați următoarea strategie: Veți arunca globul în aer. Când îl prindeți, veți nota dacă suprafața de sub degetul arătător drept este sau nu apă sau pământ. Apoi aruncați din nou globul în aer și repetați procedura. Această strategie generează o secvență de eșantioane de suprafață de pe glob. (p.28)</p>
</blockquote>
</div><div class="column" style="width:30%;">
<p><img src="https://upload.wikimedia.org/wikipedia/commons/3/34/Martin_Behaim_1492_Ocean_Map.png" class="img-fluid" width="259"></p>
</div>
</div>
<p>Presupunând că se avem 9 aruncări, din care 6 ne dau informația “Apă”:</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">aruncari</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"P"</span>, <span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"P"</span>, <span class="st">"A"</span>, <span class="st">"P"</span>, <span class="st">"A"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">aruncari</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>aruncari
A P 
6 3 </code></pre>
</div>
</div>
<p>Date fiind aceste date, care este proporția pamântului, i.e., <span class="math inline">\(p(pamânt|date)\)</span>.</p>
</section><section id="teorema-lui-bayes" class="level1"><h1>Teorema lui Bayes</h1>
<p>Finalitatea procesului de învățare Bayesian este probabilitatea posterioară, pe care o notăm ca <span class="math inline">\(p(θ|y)\)</span>. Dintr-o perspectivă <a href="https://en.wikipedia.org/wiki/Epistemology">epistemologică</a>, probabilitatea posterioară conține tot ceea ce este de știut despre o propoziție incertă (cum ar fi o ipoteză științifică sau valorile parametrilor). Pe scurt, theta (<span class="math inline">\(θ\)</span>) este parametrul nostru de interes, și ceea ce căutăm noi.</p>
<p>Theta (<span class="math inline">\(θ\)</span>), rezultă din combinația dintre informațiile obținute din datele <span class="math inline">\(y\)</span> (observațiile noastre) și informațiile noastre anterioare (ceea ce știm deja despre <span class="math inline">\(θ\)</span>). Dacă ați parcurs textul deja, atunci ați întâlnit deja teorema lui Bayes, cu toate că notația este ușor diferită. Dar într-o formă sau alta, ea este:</p>
<p><span class="math display">\[
p(\theta|y)=\frac{p(y|\theta)p(\theta)}{p(y)}
\]</span></p>
<p>unde</p>
<p><span class="math inline">\(θ\)</span> adică <span class="math inline">\((p(θ|y)\)</span> este probabilitatea posterioară; <span class="math inline">\(p(y|θ)\)</span> este procesul de generare a datelor, denumit de obicei verosimilitate sau <em>likelihood</em>; <span class="math inline">\(p(θ)\)</span> este probabilitatea anterioară a lui <span class="math inline">\(θ\)</span>; și <span class="math inline">\(p(y)\)</span> este o constantă de normalizare. Nu ne vom preocupa chiar acum de constanta de normalizare, <span class="math inline">\(p(y)\)</span>, deoarece aceasta nu ne afectează concluziile. Ea este acolo doar pentru a transforma verosimilitatea - obținută din înmulțirea <span class="math inline">\(p(y|\theta)p(\theta)\)</span> - în probabilități (adică valori ce sumate ajung la 1).</p>
<p>Prin urmare:</p>
<p><span class="math display">\[
p(\theta|y)=p(y|\theta)p(\theta)
\]</span></p>
<p>Ceea ce este important de înțeles este că <span class="math inline">\(θ\)</span> este <strong>un</strong> parametru necunoscut, dar pentru a estima <em>incertitudinea</em> noastră cu privire la <span class="math inline">\(θ\)</span>, vom încerca <strong>diferite</strong> valori ale lui.</p>
<p>De exemplu, dorim să cunoaștem proporția de pamânt, care variază de la 0 la 1 (cu 0 înseamnă că nu există pamânt deloc; 1 înseamnă că există numai pamânt). Astfel, în ecuația noastră, <span class="math inline">\(θ\)</span> ar reprezenta toate valorile cuprinse între 0 și 1. Cu toate acestea, există o infinitate de valori cuprinse între 0 și 1, astfel încât, în practică, am putea doar <em>încerca</em> valori cuprinse între 0 și 1.</p>
<p>McElreath utilizează un proces relativ simplu numit aproximare prin grilă, în care vom folosi o grilă de valori cuprinse între 0 și 1, la distanță egală, pentru <span class="math inline">\(θ\)</span>.</p>
<p>Acest proces de aproximare funcționează perfect pentru cazuri de acest gen, dar pe măsură ce vom înainta în material generarea lui <span class="math inline">\(θ\)</span> devine imposibilă prin acest procedeu, și vom recurge la procedee mai complexe cum ar fi Markov-Chain Monte-Carlo.</p>
</section><section id="componentele-unui-model-bayesian" class="level1"><h1>Componentele unui model Bayesian</h1>
<section id="likelihood-verosimilitatea" class="level2"><h2 class="anchored" data-anchor-id="likelihood-verosimilitatea">Likelihood (Verosimilitatea)</h2>
<p>Verosimilitatea (în acest caz, verosimilitatea binomială a) datelor este un concept destul de greu de înțeles la “prima strigare”. Verosimilitatea se referă la “cât de probabile sunt datele, având în vedere o anumită valoare pentru <span class="math inline">\(θ\)</span>”. Dacă vreți o explicație pe îndelete, vă recomand acest mic <a href="https://www.youtube.com/watch?v=pYxNSUDSFH4">videoclip</a>.</p>
<p>Oricum, pentru varianta binomială verosimilitatea are această structură:</p>
<p><span class="math display">\[p(y|\theta)=\theta^y(1-\theta)^{n-y}\]</span>unde</p>
<p><span class="math inline">\(y\)</span> este de numărul de reușite (Pământ, în cazul nostru) și <span class="math inline">\(n\)</span> este numărul de încercări.</p>
<p>Pentru exemplul din McElreath, unde avem 6 reușite din 9 încercări, calculăm <span class="math inline">\(p(y|\theta)\)</span> pentru toate valorile <span class="math inline">\(theta\)</span> de la 0 la 1 și le reprezentăm grafic.</p>
<p><span class="math display">\[p(y|\theta)=\theta^6(1-\theta)^{9-6}\]</span></p>
<p>Acum, am putea să le calculăm de mână, pentru că nu sunt multe, dar putem să le și obținem prin funcția R <code><a href="https://rdrr.io/r/stats/Binomial.html">dbinom()</a></code>. Iată codul:</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Defineste spatiul de probabilitati (de la 0 la 1)</span></span>
<span><span class="co"># Pentru 20 de valori posible ale lui theta</span></span>
<span></span>
<span><span class="va">theta</span>     <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="fl">0</span>, to<span class="op">=</span><span class="fl">1</span>, length.out<span class="op">=</span><span class="fl">1000</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculeaza verosimilitata cu functia dbinom()</span></span>
<span><span class="co"># Pentru 6 reușite din 9 încercări, cu </span></span>
<span><span class="co"># prob = adica probabilitatea de a obține reușita</span></span>
<span><span class="co"># care provine din vectorul theta.</span></span>
<span></span>
<span><span class="co"># Pentru o probabilitate theta de .10, dbinom(6,9, prob = .10)</span></span>
<span></span>
<span><span class="va">likelihood</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">dbinom</a></span><span class="op">(</span><span class="fl">6</span>, size<span class="op">=</span><span class="fl">9</span>, prob<span class="op">=</span><span class="va">theta</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Sa le lipim intr-un singur dataframe pentru plot</span></span>
<span></span>
<span><span class="va">df</span>         <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">theta</span>, <span class="va">likelihood</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Iată și graficul</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">theta</span>, y <span class="op">=</span> <span class="va">likelihood</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html">geom_area</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">.8</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/MetBrewer/man/met.brewer.html">met.brewer</a></span><span class="op">(</span><span class="st">"Tiepolo"</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://www.stefanom.io/latex2exp/reference/TeX.html">TeX</a></span><span class="op">(</span><span class="st">"$\\theta$"</span><span class="op">)</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Verosimilitatea"</span>,</span>
<span>       title <span class="op">=</span> <span class="fu"><a href="https://www.stefanom.io/latex2exp/reference/TeX.html">TeX</a></span><span class="op">(</span><span class="st">"$p(y|\\theta) = \\theta^{6}(1 - \\theta)^{9 - 6}$"</span><span class="op">)</span>,</span>
<span>       subtitle <span class="op">=</span> <span class="st">"Linia albastră = valoarea lui theta unde verosmilitatea atinge valoarea maximă"</span>,</span>
<span>       caption <span class="op">=</span> <span class="st">"Valori nonnormalizate"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">.66</span>, size <span class="op">=</span> <span class="fl">1.25</span>, color <span class="op">=</span> <span class="st">"steelblue"</span>, linetype <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, by <span class="op">=</span> <span class="fl">.10</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">see</span><span class="fu">::</span><span class="fu"><a href="https://easystats.github.io/see/reference/theme_radar.html">theme_radar</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.text.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>        plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">.5</span>, size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="modelul_beta_binomial_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section><section id="incorporarea-de-informații-anterioare-probabilitate-apriori" class="level2"><h2 class="anchored" data-anchor-id="incorporarea-de-informații-anterioare-probabilitate-apriori">Incorporarea de informații anterioare (Probabilitate apriori)</h2>
<p>Pentru că facem inferență de tip Bayesian, avem oportunitatea de a incorpora informații anterioare în modelul nostru. <span class="math inline">\(p(θ)\)</span> din teorema lui Bayes, este probabilitatea anterioară a lui <span class="math inline">\(θ\)</span> și poate reprezenta date anterioare sau chiar cunoștințe subiective despre valoarea probabilă și incertitudinea lui <span class="math inline">\(θ\)</span>. McElreath pornește de la o distribuție uniformă de tip <span class="math inline">\(beta(1,1)\)</span>, adică el consideră ca fiecare valoare posibilă a lui <span class="math inline">\(θ\)</span> are o probabilitate anterioara de 1, ele fiind egale, adică toate <span class="math inline">\(θ\)</span> sunt la fel de probabile.</p>
<p>O abordare obișnuită atunci când se alege priorul este identificarea unui prior conjugat: o formulă de exprimare a priorului care are o structură de date similară cu cea a verosimilității. În acest caz, un prior conjugat pentru verosimilitatea binomială este funcția beta:</p>
<p><span class="math display">\[\text{beta}(a,b)=\theta^{a-1}(1-\theta)^{b-1}\]</span></p>
<p>unde <span class="math inline">\(a\)</span> poate reprezenta reușitele, iar <span class="math inline">\(b\)</span> poate reprezenta eșecurile.</p>
<p>Observați similitudinea dintre formulele pentru funcțiile binomială și beta. Acestea au structuri de date identice, ceea ce face ca beta să fie un prior conjugat pentru verosimilitatea binomială. Să folosim un beta(1,1) ca a priori, reprezentând cunoștințele noastre despre o probabilitate egală a lui <span class="math inline">\(theta\)</span>.</p>
<section id="codul-generativ-pentru-un-prior-uniform" class="level3"><h3 class="anchored" data-anchor-id="codul-generativ-pentru-un-prior-uniform">Codul generativ pentru un prior uniform</h3>
<p>Pentru a genera 20 de valori de 1 (pentru egalitate), folosim funcția <code><a href="https://rdrr.io/r/base/rep.html">rep()</a></code> sau <code><a href="https://rdrr.io/r/stats/Beta.html">dbeta()</a></code>.</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Defineste probabilitatea anterioara (prior)</span></span>
<span><span class="co"># Fiecare probabilitate anterioara va primi valoarea 1</span></span>
<span></span>
<span><span class="co"># Varianta rustică</span></span>
<span></span>
<span><span class="va">prior</span>      <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1000</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Varianta urbană</span></span>
<span><span class="co"># Beta distribution (1,1)</span></span>
<span><span class="co"># Cei doi parametri, alpha (shape1) si beta(shape2) controleaza forma distributiei de tip beta</span></span>
<span></span>
<span><span class="va">prior.beta</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Beta.html">dbeta</a></span><span class="op">(</span><span class="va">theta</span>, shape1 <span class="op">=</span> <span class="fl">1</span>, shape2 <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="distribția-posterioară-în-sfârșit" class="level2"><h2 class="anchored" data-anchor-id="distribția-posterioară-în-sfârșit">Distribția Posterioară (în sfârșit!)</h2>
<p>Probabilitatea posterioară, <span class="math inline">\(p(θ|y)\)</span> ia în considerare verosimilitatea și credințele noastre anterioare. Aceasta este adesea privită ca un <em>compromis</em> între verosimilitatea datelor și probabilitatea anterioară. Acest lucru este mai ușor de înțeles din punct de vedere grafic:</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># înmulțește probabilitatea binomială cu 100 pentru a o exprima în "termeni de probabilitate" ca și beta.</span></span>
<span><span class="co"># practic rescriem obiectul anterior</span></span>
<span></span>
<span><span class="va">likelihood</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">dbinom</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">6</span>, size <span class="op">=</span> <span class="fl">9</span>, prob <span class="op">=</span> <span class="va">theta</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span></span>
<span></span>
<span><span class="co"># Teorema lui Bayes, normalizata</span></span>
<span></span>
<span><span class="va">posterior</span>  <span class="op">&lt;-</span> <span class="va">likelihood</span> <span class="op">*</span> <span class="va">prior.beta</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Să creăm un nou dataframe, care să cuprindă toate obiectele noastre create anterior.</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>theta <span class="op">=</span> <span class="va">theta</span>,</span>
<span>                 likelihood <span class="op">=</span> <span class="va">likelihood</span>,</span>
<span>                 prior <span class="op">=</span> <span class="va">prior.beta</span>,</span>
<span>                 posterior <span class="op">=</span> <span class="va">posterior</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Folosiți pivot_longer pentru a crea o variabilă care să grupeze likelihood vs. prior vs. posterior</span></span>
<span></span>
<span><span class="co"># Pivot_longer </span></span>
<span></span>
<span><span class="va">data_long</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span><span class="op">(</span><span class="va">df</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">likelihood</span>, <span class="va">prior</span>, <span class="va">posterior</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Și acum, reprezentarea grafică:</p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">data_long</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">theta</span>, y <span class="op">=</span> <span class="va">value</span>, fill <span class="op">=</span> <span class="va">name</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html">geom_area</a></span><span class="op">(</span>position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_identity.html">position_identity</a></span><span class="op">(</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://www.stefanom.io/latex2exp/reference/TeX.html">TeX</a></span><span class="op">(</span><span class="st">"$\\theta$"</span><span class="op">)</span>,</span>
<span>       y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>       color <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>       title <span class="op">=</span> <span class="st">"Distribuția Posterioară, Anterioară și Verosimilitatea"</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, by <span class="op">=</span> <span class="fl">.10</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/MetBrewer/man/met.brewer.html">met.brewer</a></span><span class="op">(</span><span class="st">"Tiepolo"</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">see</span><span class="fu">::</span><span class="fu"><a href="https://easystats.github.io/see/reference/theme_radar.html">theme_radar</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="modelul_beta_binomial_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<blockquote class="blockquote">
<p>Observați că distribuția posterioară nu se observă în acest grafic. De ce?</p>
</blockquote>
</section><section id="refaceți-calculul-cu-o-altă-informație-anterioară." class="level2"><h2 class="anchored" data-anchor-id="refaceți-calculul-cu-o-altă-informație-anterioară.">Refaceți calculul cu o altă informație anterioară.</h2>
<p>Imaginați-vă că aveți informații potrivit cărora probabiliatea de a vedea pamant la fiecare extragere ar fi de 20%. Acum dorim să încorporăm aceste informații anterioare în modelul nostru. <span class="math inline">\(p(θ)\)</span> este probabilitatea anterioară a lui <span class="math inline">\(θ\)</span> și poate reprezenta date anterioare sau chiar cunoștințe subiective despre valoarea probabilă și incertitudinea lui <span class="math inline">\(θ\)</span>.</p>
<p><span class="math display">\[beta(2,8)\]</span></p>
<p>Mai mult, acum aveți resursele financiare de a vă deplasa pe glob și culege mai multe observații, să spunem 60 din care 30 au reieșit valoarea <span class="math inline">\(P\)</span>. Faceți acest calcul pentru 500 de valori ale parametrului căutat <span class="math inline">\(theta\)</span>.</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">theta</span>         <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0</span>, to <span class="op">=</span> <span class="fl">1</span>, length.out <span class="op">=</span> <span class="fl">500</span><span class="op">)</span></span>
<span><span class="va">prior.2.8</span>     <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Beta.html">dbeta</a></span><span class="op">(</span><span class="va">theta</span>, shape1 <span class="op">=</span> <span class="fl">2</span>, shape2 <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span>
<span><span class="va">likelihood</span>    <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">dbinom</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">60</span>, prob <span class="op">=</span> <span class="va">theta</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span></span>
<span><span class="va">posterior</span>     <span class="op">&lt;-</span> <span class="va">likelihood</span> <span class="op">*</span> <span class="va">prior.2.8</span></span>
<span></span>
<span><span class="va">exercitiu</span>     <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>theta <span class="op">=</span> <span class="va">theta</span>,</span>
<span>                            prior <span class="op">=</span> <span class="va">prior.2.8</span>,</span>
<span>                             likelihood <span class="op">=</span> <span class="va">likelihood</span>,</span>
<span>                             posterior <span class="op">=</span> <span class="va">posterior</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data_long.exercitiu</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span><span class="op">(</span><span class="va">exercitiu</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">likelihood</span>, </span>
<span>                                                        <span class="va">prior</span>,</span>
<span>                                                        <span class="va">posterior</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data_long.exercitiu</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">theta</span>, y <span class="op">=</span> <span class="va">value</span>, group <span class="op">=</span> <span class="va">name</span>, fill <span class="op">=</span> <span class="va">name</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html">geom_area</a></span><span class="op">(</span>position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_identity.html">position_identity</a></span><span class="op">(</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/MetBrewer/man/met.brewer.html">met.brewer</a></span><span class="op">(</span><span class="st">"Tiepolo"</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">see</span><span class="fu">::</span><span class="fu"><a href="https://easystats.github.io/see/reference/theme_radar.html">theme_radar</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="modelul_beta_binomial_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section><section id="analiza-grafică" class="level2"><h2 class="anchored" data-anchor-id="analiza-grafică">Analiza grafică</h2>
<p>Graficul de mai sus prezintă distribuția posterioară, verosimilitatea și priorul unul lângă altul. Observați cum priorul conține mai puțină certitudine decât verosimilitatea. Densitatea posterioară este pur și simplu probabilitatea anterioară înmulțită cu verosimilitatea, astfel încât conține informații din ambele surse. Este o regulă generală că, în cazurile în care există o mulțime de date, iar priorul nostru este în mare parte neinformativ, verosimilitatea (likelihood) va copleși priorul.</p>
</section></section><section id="animație" class="level1"><h1>Animație</h1>
<p><img src="https://willhipson.netlify.app/bayesian_intro/Bayesian_Intro_files/figure-html/unnamed-chunk-10-1.gif" class="img-fluid"></p>
</section><section id="inferențe" class="level1"><h1>Inferențe</h1>
<p>Dacă ar fi să extindem acest lucru mai departe pentru a trage concluzii reale cu privire la incertitudinea noastră privind proporția de aur din dealuri, ar trebui să extragem eșantioane aleatorii din distribuția posterioară și să generăm estimări de interval pe baza acestor extrageri.</p>
</section><section id="lucrul-cu-distribuția-posterioară" class="level1"><h1>Lucrul cu distribuția posterioară</h1>
<p>Acum avem un o distribuție posterioară! De obicei, nu o putem folosi doar pe ea. Trebuie să calculăm media oricărei inferențe pe întreaga distribuție. Acest lucru necesită calcul infinitezimal, care este (1) dificil și (2) adesea imposibil.</p>
<p>Așa că, în schimb, putem folosi eșantioane din distribuție și așa putem face inferențe pe baza acestora.</p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># extrage esantioane din grila creata anterior</span></span>
<span><span class="va">esantion</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="va">theta</span>, </span>
<span>                  prob <span class="op">=</span> <span class="va">posterior</span>, </span>
<span>                  size <span class="op">=</span> <span class="fl">10000</span>, </span>
<span>                  replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">esantion</span>, main <span class="op">=</span> <span class="st">"10,000 extrageri din distribuția posterioară"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="modelul_beta_binomial_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span><span class="va">esantion</span><span class="op">)</span>, main <span class="op">=</span> <span class="st">"Distribuția celor 10,000 de eșantionări"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="modelul_beta_binomial_files/figure-html/unnamed-chunk-9-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Odată ce am extras destule eșantioane din grila creată, putem începe să facem inferențe prin sumarizarea acestora.</p>
<p>De exemplu, putem calcula media acestui eșantion.</p>
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">esantion</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.456724</code></pre>
</div>
</div>
<p>Sau, mediana și abaterea standard.</p>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">esantion</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4569138</code></pre>
</div>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">esantion</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.05906478</code></pre>
</div>
</div>
<p>Din fericire, avem funcții gata create pentru aceste sarcini, ca de exemplu <code><a href="https://easystats.github.io/bayestestR/reference/describe_posterior.html">describe_posterior()</a></code> din pachetul <a href="https://easystats.github.io/bayestestR/"><code>bayestestR</code></a>.</p>
<div class="cell">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://easystats.github.io/bayestestR/">bayestestR</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://easystats.github.io/bayestestR/reference/describe_posterior.html">describe_posterior</a></span><span class="op">(</span><span class="va">esantion</span>,</span>
<span>                   centrality <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>                   rope_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">.70</span>, <span class="fl">.80</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Summary of Posterior Distribution

Parameter | Median | Mean |  MAP |       95% CI |   pd |         ROPE | % in ROPE
---------------------------------------------------------------------------------
Posterior |   0.46 | 0.46 | 0.45 | [0.34, 0.58] | 100% | [0.70, 0.80] |        0%</code></pre>
</div>
</div>
<p>În cadrul inferenței Bayesiene, parametrii sunt estimați în mod probabilistic ca <em>distribuții.</em> Aceste distribuții pot fi rezumate și descrise prin raportarea a patru tipuri de indici:</p>
<ul>
<li>Centralitate: media, mediana sau modul.</li>
<li>Incertitudine: HDI sau CI</li>
<li>Existența efecului: pd (probabilitatea direcției)</li>
<li>Semnificația efectului: de ex. ROPE.</li>
</ul>
<p>Pe măsură ce veți primi mai multă încredere, aceste moduri de a cuantifica incertitudinea vă vor părea din ce în ce mai naturale.</p>
<p>De asemenea, aveți posibiliatea reprezentărilor grafice mai avansate din pachete precum <code>ggdist()</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://mjskay.github.io/ggdist/">ggdist</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">esantion.data.frame</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">esantion</span><span class="op">)</span></span>
<span></span>
<span><span class="va">esantion.data.frame</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">esantion</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="http://mjskay.github.io/ggdist/reference/stat_halfeye.html">stat_halfeye</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="modelul_beta_binomial_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section></main><!-- /main column --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>